<div class="main-div">
  
  <mat-horizontal-stepper [linear]="false" #stepper class="container" [@flyInOut] *ngIf="animation">
    <mat-step [stepControl]="dataFormGroup" errorMessage="Revisa tus datos.">
      <form [formGroup]="dataFormGroup">
        <ng-template matStepLabel>Datos personales</ng-template>
        <div class="searchcontainer">
        <mat-form-field class="field">
          <input matInput placeholder="Ingresa tu nombre" formControlName="nameCtrl" required>
        </mat-form-field>
        <mat-form-field class="field">
          <input matInput placeholder="Ingresa tu apellido" formControlName="lastnameCtrl" required>
        </mat-form-field>
      </div>
      <div class="searchcontainer">
        <mat-form-field class="field">
          <input matInput placeholder="Ingresa tu DNI" formControlName="dniCtrl" required>
        </mat-form-field>
        <mat-form-field class="field">
          <input matInput placeholder="Ingresa tu mail" formControlName="mailCtrl" required>
        </mat-form-field>
        <div>
          <button mat-button matStepperNext>Siguiente</button>
        </div>
      </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="passFormGroup" errorMessage="Las contraseñas no coinciden.">
      <form [formGroup]="passFormGroup">
        <ng-template matStepLabel>Contraseña</ng-template>
        <div class="searchcontainer">
        <mat-form-field class="field">
            <input matInput placeholder="Ingresa tu contraseña" [type]="hide ? 'password' : 'text'" formControlName="passCtrl" required>
          <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Ocultar contraseña'" [attr.aria-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </mat-form-field>
      </div>
        <div class="searchcontainer">
        <mat-form-field class="field">
          <input matInput placeholder="Repeti tu contraseña" [type]="hide ? 'password' : 'text'" formControlName="repeatPassCtrl" required>
        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Ocultar contraseña'" [attr.aria-pressed]="hide">
          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>
    </div>
        <div>
          <button mat-button matStepperPrevious>Atras</button>
          <button mat-button matStepperNext>Siguiente</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Finalizar</ng-template>
    <div class="container" style="margin-top: 4em;">
      Al finalizar el proceso, te va a llegar un correo para validar la cuenta.
      <div>
        <button mat-flat-button color="primary" (click)="finishClick()" style="margin-top: 2em;" [disabled]="loading">Crear usuario</button>
      </div>
    </div>
    </mat-step>
  </mat-horizontal-stepper>
  <mat-spinner *ngIf="loading" class="loader"></mat-spinner>
</div>